syntax = "proto3";

package ai.v1;

import "google/protobuf/timestamp.proto";

// AI Conversation message types
message SendMessageRequest {
  string user_id = 1;
  string username = 2;
  string language = 3; // Language code (vi, en, ja)
  string character = 7; // Character type (friend, parent, sister)
  oneof plan {
    PlanType plan_type = 8;
  }
  oneof content {
    bytes audio_data = 4; // Audio data for speech input
    string text_message = 5; // Text message input
  }
  google.protobuf.Timestamp timestamp = 6;
}

message SendMessageResponse {
  string response_id = 1;
  oneof content {
    bytes audio_data = 2; // AI audio response
    string text_message = 3; // AI text response
  }
  string language = 4; // Language of the response
  google.protobuf.Timestamp timestamp = 5;
  bool is_final = 6; // Whether this is the final response for the request
}



enum PlanType {
  PLAN_TYPE_FREE = 0;
  PLAN_TYPE_LITE = 1;
  PLAN_TYPE_PREMIUM = 2;
}